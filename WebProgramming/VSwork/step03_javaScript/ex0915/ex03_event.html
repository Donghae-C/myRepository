<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      button {
        display: block;
        margin: 10px;
        width: 80px;
        height: 40px;
      }
      td {
        width: 10px;
        height: 10px;
        border: 1px solid black;
      }
    </style>
    <script>
      /*
        이벤트를 등록하는 방법
        1) 태그의 속성으로 on이벤트종류 = "기능"
        2) js에서 element를 찾아서 .onClick 이렇게 등록 가능
            - 이벤트주체.on이벤트이름 = 함수();
                -이벤트 종류는 모두 소문자.
            - 이벤트주체.addEventListener(이벤트종류, 함수, true or false);
                - 이벤트 종류는 소문자, on 생략
                - flase는 버블링, true는 캡처링(기본은 false)

        */

      //함수 작성
      const test01 = function (th) {
        console.log("클릭1 누름");
        th.style.color = "red";
      };

      onload = function () {
        //이벤트를 등록하려면 이벤트를 발생시키는 주체를 찾아야한다.
        /*
        body에 마크업된 element를 찾는 방법
            1. id로 찾기
                document.getElementById("id");
                결과는 하나의 element
            2. class로 찾기
                document.getElementsByClassName("class");
            3. tagname으로 찾기
                document.getElementsByTagName("tagname");
            4. name으로 찾기
                document.getElementsByName("name");

            2,3,4인 경우엔 결과가 배열로 나옴. index관리.... 귀찮..

            5. selector(선택자)를 이용하여 찾기
                document.querySelector(); 결과가 하나
                document.querySelectorAll(); 결과가 여러개
        */
        let btnClick1 = function () {
          console.log("클릭2 누름");
          event.target.style.backgroundColor = "skyblue";
          event.target.style.color = "red";
          btn2.removeEventListener("click", btnClick1);
          btn2.addEventListener("click", btnClick2);
        };

        let btnClick2 = function () {
          console.log("클릭2 누름");
          event.target.style.backgroundColor = "red";
          event.target.style.color = "skyblue";
          btn2.removeEventListener("click", btnClick2);
          btn2.addEventListener("click", btnClick1);
        };
        let btn2 = document.getElementById("btn2");
        btn2.addEventListener("click", btnClick1);
        btn2.addEventListener("mouseover", () => {
          btn2.style.backgroundColor = "red";
        });
        btn2.addEventListener("mouseout", () => {
          btn2.style.backgroundColor = "gray";
        });
        let array = document.getElementsByClassName("a");
        for (let i = 0; i < array.length; i++) {
          array[i].addEventListener("click", btnClick1);
        }
        //alert(document.querySelector("button:last-of-type"));
        // let tds = document.querySelectorAll("td");
        // for (let i = 0; i < tds.length; i++) {
        //   tds[i].addEventListener("mouseover", () => {
        //     tds[i].style.backgroundColor = "red";
        //   });
        // }

        //같은 element에 두개의 onclick 적용하기.
        const btn5 = document.querySelector("button:last-of-type");
        btn5.onclick = btnClick1;
        btn5.onclick = btnClick2; //2번째만 적용됨. 즉 덮어씀
      };
    </script>
  </head>
  <body>
    <h1>이벤트 등록</h1>
    <button onclick="test01(this)">클릭1</button>
    <button id="btn2">클릭2</button>
    <button class="a">클릭3</button>
    <button class="a">클릭4</button>
    <button id="btn4.5">클릭4.5</button>
    <button>클릭5</button>
    <!-- <table>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </table> -->
  </body>
</html>
